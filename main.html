<!DOCTYPE html>
<html>
  <head>
    <title>Центр контроля</title>
    <meta charset="utf-8">
    
    <meta name="viewport" content="width=device-width,maximum-scale=1">

    <meta name="application-name" content="ControlCenter__v4.0">
    <meta name="author" content="Vladimir Shamsheev, svr93@i.ua">

    

    <style>body{text-align:center}header{margin:auto;width:500px}form{text-align:left}input{margin:15px;width:25px;height:25px}button{height:50px;border-radius:25px}.container{display:inline-block;vertical-align:top;width:500px;height:500px;border:2px solid green}</style><script>"use strict";function init(){var e=new Worker("/js/w_sender.js");e.onmessage=function(t){return-1==t.data.status?void requestAnimationFrame(function(){infoBlock.innerHTML=t.data.res,coords.value="error",startButton.style.display="block"}):(requestAnimationFrame(function(){e.value=t.data.res;for(var e=t.data.res.coords,n=0;n<e.length;++n)if(46==e[n].stlid){var o=(e[n].projection.latitude+180)/360*w|0,r=(-e[n].projection.longitude+180)/360*h|0;ctx2D.beginPath(),ctx2D.moveTo(0,0),ctx2D.lineTo(o,r),ctx2D.stroke();break}}),void e.postMessage())},e.onerror=function(){infoBlock.innerHTML="worker error"},document.addEventListener("DOMContentLoaded",function(){function t(){reduceScale.onclick=function(){changeScale(-.025)},increaseScale.onclick=function(){changeScale(.025)},n(),startButton.onclick=function(){infoBlock.innerHTML="Получение координат",this.style.display="none",e.postMessage()}}function n(){var e=[reduceScale,increaseScale];e.forEach(o)}function o(e){e.addEventListener("touchstart",function(t){t.preventDefault(),e.onclick()})}var r=100;initEarthDrawingSettings(r),w=earth2DCnv.width,h=earth2DCnv.height;var a=document.getElementsByClassName("container");[].forEach.call(a,function(e){e.style.display="inline-block"}),coords.style.height=parseInt(getComputedStyle(coords.parentNode).height)-20+"px",t(),buttonContainer.style.display="block"})}var ctx2D=earth2DCnv.getContext("2d"),w=null,h=null;</script><script defer="defer" src="/js/main.js" onload="init()"></script></head><body ng-app="app">

    <header>
      <h1>Центр контроля космической обстановки</h1>
    </header>

    <div ng-controller="EarthViewController as ewc">
      <canvas id="earthCnv" class="container" style="display:none" ng-show="ewc.isSet(0)"></canvas><canvas id="earth2DCnv" class="container" style="display:none" ng-show="ewc.isSet(1)"></canvas><div class="container" ng-show="ewc.isSet(2)">
        <textarea readonly="readonly" id="coords" style="width:90%;height:0;font-size:10px">
        </textarea>
      </div><div class="container" ng-show="ewc.isSet(3)">
        <article>
          <h2>Инструкция</h2>
        </article>
      </div><div class="container">
        <div id="infoBlock" style="height:50px"></div>

        <div id="buttonContainer" style="display:none;margin:auto;width:50%;height:125px">

          <button id="reduceScale" style="width:50%" ng-show="ewc.isSet(0)">
            scale-
          </button><button id="increaseScale" style="width:50%" ng-show="ewc.isSet(0)">
            scale+
          </button>
          <br>
          <br>
          <button id="startButton" style="width:100%">
            Старт
          </button>
        </div>
        <form>
          <input type="radio" name="earthView" ng-model="ewc.view" value="0">
            3D-изображение Земли
          <br>
          <input type="radio" name="earthView" ng-model="ewc.view" value="1">
            2D-карта Земли
          <br>
          <input type="radio" name="earthView" ng-model="ewc.view" value="2">
            Список координат
          <br>
          <input type="radio" name="earthView" ng-model="ewc.view" value="3">
            Инструкция
        </form>
      </div>
    </div>
  </body>
  <link rel="stylesheet" href="/css/main.css">
</html>